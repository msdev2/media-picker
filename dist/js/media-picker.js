/*! For license information please see media-picker.js.LICENSE.txt */
(()=>{"use strict";var e,t={654:()=>{function e(){var n,r,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.toStringTag||"@@toStringTag";function c(e,i,o,a){var c=i&&i.prototype instanceof s?i:s,u=Object.create(c.prototype);return t(u,"_invoke",function(e,t,i){var o,a,c,s=0,u=i||[],d=!1,f={p:0,n:0,v:n,a:m,f:m.bind(n,4),d:function(e,t){return o=e,a=0,c=n,f.n=t,l}};function m(e,t){for(a=e,c=t,r=0;!d&&s&&!i&&r<u.length;r++){var i,o=u[r],m=f.p,h=o[2];e>3?(i=h===t)&&(c=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=n):o[0]<=m&&((i=e<2&&m<o[1])?(a=0,f.v=t,f.n=o[1]):m<h&&(i=e<3||o[0]>t||t>h)&&(o[4]=e,o[5]=t,f.n=h,a=0))}if(i||e>1)return l;throw d=!0,t}return function(i,u,h){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,h),a=u,c=h;(r=a<2?n:c)||!d;){o||(a?a<3?(a>1&&(f.n=-1),m(a,c)):f.n=c:f.v=c);try{if(s=2,o){if(a||(i="next"),r=o[i]){if(!(r=r.call(o,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,a<2&&(a=0)}else 1===a&&(r=o.return)&&r.call(o),a<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=n}else if((r=(d=f.n<0)?c:e.call(t,f))!==l)break}catch(e){o=n,a=1,c=e}finally{s=1}}return{value:r,done:d}}}(e,o,a),!0),u}var l={};function s(){}function u(){}function d(){}r=Object.getPrototypeOf;var f=[][o]?r(r([][o]())):(t(r={},o,function(){return this}),r),m=d.prototype=s.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return u.prototype=d,t(m,"constructor",d),t(d,"constructor",u),u.displayName="GeneratorFunction",t(d,a,"GeneratorFunction"),t(m),t(m,a,"Generator"),t(m,o,function(){return this}),t(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m:h}})()}function t(e,n,r,i){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,n,r,i){function a(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[n]=r:(a("next",0),a("throw",1),a("return",2))},t(e,n,r,i)}function n(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function r(e,t){return i.apply(this,arguments)}function i(){var t;return t=e().m(function t(n,r){var i,o,a,c,l;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=null===(i=document.querySelector('meta[name="csrf-token"]'))||void 0===i?void 0:i.getAttribute("content"),e.p=1,e.n=2,fetch("/media-picker/".concat(n),{method:"POST",body:r,headers:{"X-CSRF-TOKEN":o,Accept:"application/json"}});case 2:return a=e.v,e.n=3,a.json();case 3:if(c=e.v,a.ok){e.n=4;break}throw new Error(c.message||"An unknown error occurred.");case 4:return e.a(2,c);case 5:throw e.p=5,l=e.v,alert(l.message),l;case 6:return e.a(2)}},t,null,[[1,5]])}),i=function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function c(e){n(a,i,o,c,l,"next",e)}function l(e){n(a,i,o,c,l,"throw",e)}c(void 0)})},i.apply(this,arguments)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=null,this.promise=null,this.state={selectedPath:null},this._handleTreeClick=this._handleTreeClick.bind(this),this._handleConfirmClick=this._handleConfirmClick.bind(this),this._handleCancelClick=this._handleCancelClick.bind(this),this._handleBackdropClick=this._handleBackdropClick.bind(this)},t=[{key:"open",value:function(e,t){var n=this;return new Promise(function(r){n.promise={resolve:r},n._createModalElement(),n.render(e,t),n.attachEventListeners(),n.element.style.display="flex"})}},{key:"_createModalElement",value:function(){var e=document.createElement("div");e.className="ms-media-folder-modal-backdrop",e.innerHTML='\n            <div class="ms-media-folder-modal-content">\n                <h4>Select Destination Folder</h4>\n                <div class="ms-media-folder-modal-tree"></div>\n                <div class="ms-media-folder-modal-actions">\n                    <button type="button" class="ms-media-btn ms-folder-modal-cancel-btn">Cancel</button>\n                    <button type="button" class="ms-media-btn ms-media-btn-primary ms-folder-modal-move-btn" disabled>Move Here</button>\n                </div>\n            </div>\n        ',document.body.appendChild(e),this.element=e}},{key:"render",value:function(e,t){var n=function(e){var r="<ul>";return e.forEach(function(e){var i=e.path===t;r+='<li><a href="#" class="'.concat(i?"disabled":"",'" data-path="').concat(e.path,'" title="').concat(i?"Current folder":"",'">üìÅ ').concat(e.name,"</a>"),e.children&&e.children.length>0&&(r+=n(e.children)),r+="</li>"}),r+="</ul>"};this.element.querySelector(".ms-media-folder-modal-tree").innerHTML=n(e)}},{key:"attachEventListeners",value:function(){this.ui={tree:this.element.querySelector(".ms-media-folder-modal-tree"),moveBtn:this.element.querySelector(".ms-media-folder-modal-move-btn"),cancelBtn:this.element.querySelector(".ms-media-folder-modal-cancel-btn")},this.ui.tree.addEventListener("click",this._handleTreeClick),this.ui.moveBtn.addEventListener("click",this._handleConfirmClick),this.ui.cancelBtn.addEventListener("click",this._handleCancelClick),this.element.addEventListener("click",this._handleBackdropClick)}},{key:"_handleTreeClick",value:function(e){e.preventDefault();var t=e.target.closest("a");t&&!t.classList.contains("disabled")&&(this.ui.tree.querySelectorAll("a").forEach(function(e){return e.classList.remove("selected")}),t.classList.add("selected"),this.state.selectedPath=t.dataset.path,this.ui.moveBtn.disabled=!1)}},{key:"_handleConfirmClick",value:function(){this._resolveAndClose(this.state.selectedPath)}},{key:"_handleCancelClick",value:function(){this._resolveAndClose(null)}},{key:"_handleBackdropClick",value:function(e){e.target===this.element&&this._resolveAndClose(null)}},{key:"_resolveAndClose",value:function(e){this.promise&&this.promise.resolve(e),this.element.remove()}}],t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const s=l;function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var p=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=null,this.promise=null,this.config=null},t=[{key:"open",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({title:"Enter a value",confirmText:"OK",fields:[]},t),new Promise(function(t){e.promise={resolve:t},e._createModalElement(),e.attachEventListeners(),e.element.style.display="flex";var n=e.element.querySelector('input[type="text"], input[type="url"]');n&&(n.focus(),n.select())})}},{key:"_createModalElement",value:function(){var e=document.createElement("div");e.className="ms-dialog-backdrop";var t=this.config.fields.map(function(e){return"checkbox"===e.type?'\n                    <div class="ms-dialog-group checkbox">\n                        <input type="checkbox" id="ms-prompt-input-'.concat(e.name,'" name="').concat(e.name,'" ').concat(e.checked?"checked":"",'>\n                        <label for="ms-prompt-input-').concat(e.name,'">').concat(e.label,"</label>\n                    </div>\n                "):'\n                <div class="ms-dialog-group">\n                    <label for="ms-prompt-input-'.concat(e.name,'">').concat(e.label,'</label>\n                    <input type="').concat(e.type||"text",'" id="ms-prompt-input-').concat(e.name,'" name="').concat(e.name,'" value="').concat(e.value||"",'" placeholder="').concat(e.placeholder||"",'">\n                </div>\n            ')}).join("");e.innerHTML='\n            <div class="ms-dialog-content">\n                <div class="ms-dialog-header">\n                    <h4>'.concat(this.config.title,'</h4>\n                    <button type="button" class="ms-dialog-close">&times;</button>\n                </div>\n                <div class="ms-dialog-body">').concat(t,'</div>\n                <div class="ms-dialog-footer">\n                    <button type="button" class="ms-media-btn ms-prompt-cancel-btn">Cancel</button>\n                    <button type="button" class="ms-media-btn ms-media-btn-primary ms-prompt-confirm-btn">').concat(this.config.confirmText,"</button>\n                </div>\n            </div>\n        "),document.body.appendChild(e),this.element=e}},{key:"attachEventListeners",value:function(){var e=this,t=this.element.querySelector(".ms-prompt-confirm-btn"),n=this.element.querySelector(".ms-prompt-cancel-btn"),r=this.element.querySelector(".ms-dialog-close");t.onclick=function(){return e._handleConfirm()},n.onclick=function(){return e._resolveAndClose(null)},r.onclick=function(){return e._resolveAndClose(null)},this.element.addEventListener("click",function(t){t.target===e.element&&e._resolveAndClose(null)})}},{key:"_handleConfirm",value:function(){var e=this,t={};this.config.fields.forEach(function(n){var r=e.element.querySelector('[name="'.concat(n.name,'"]'));r&&(t[n.name]="checkbox"===n.type?r.checked:r.value)}),this._resolveAndClose(t)}},{key:"_resolveAndClose",value:function(e){this.promise&&this.promise.resolve(e),this.element.remove()}}],t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const v=p;function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var k,w,S,E=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"_getContainer",value:function(){if(!this.container&&(this.container=document.createElement("div"),this.container.id="ms-toast-container",document.body.appendChild(this.container),!document.getElementById("ms-toast-animations"))){var e=document.createElement("style");e.id="ms-toast-animations",e.innerHTML="\n                    @keyframes ms-toast-fade-in {\n                        to { opacity: 1; transform: translateY(0); }\n                    }\n                    @keyframes ms-toast-fade-out {\n                        to { opacity: 0; transform: translateY(20px); }\n                    }\n                ",document.head.appendChild(e)}return this.container}},{key:"show",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,r=this._getContainer(),i=document.createElement("div");i.className="ms-toast ".concat(t),i.textContent=e,r.appendChild(i),setTimeout(function(){i.style.animation="ms-toast-fade-out 0.3s forwards",i.addEventListener("animationend",function(){return i.remove()})},n)}}],(t=null)&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();k=E,S=null,(w=g(w="container"))in k?Object.defineProperty(k,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):k[w]=S;const C=E;function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function P(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return T(s,"_invoke",function(n,r,i){var o,c,l,s=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,c=0,l=e,f.n=n,a}};function m(n,r){for(c=n,l=r,t=0;!d&&s&&!i&&t<u.length;t++){var i,o=u[t],m=f.p,h=o[2];n>3?(i=h===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=m&&((i=n<2&&m<o[1])?(c=0,f.v=r,f.n=o[1]):m<h&&(i=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,f.n=h,c=0))}if(i||n>1)return a;throw d=!0,r}return function(i,u,h){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,h),c=u,l=h;(t=c<2?e:l)||!d;){o||(c?c<3?(c>1&&(f.n=-1),m(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),c=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){o=e,c=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,i,o),!0),s}var a={};function c(){}function l(){}function s(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(T(t={},r,function(){return this}),t),d=s.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,T(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,T(d,"constructor",s),T(s,"constructor",l),l.displayName="GeneratorFunction",T(s,i,"GeneratorFunction"),T(d),T(d,i,"Generator"),T(d,r,function(){return this}),T(d,"toString",function(){return"[object Generator]"}),(P=function(){return{w:o,m:f}})()}function T(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}T=function(e,t,n,r){function o(t,n){T(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},T(e,t,n,r)}function L(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){L(o,r,i,a,c,"next",e)}function c(e){L(o,r,i,a,c,"throw",e)}a(void 0)})}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function F(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}var A=function(){return function(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({isInline:!1,onSelect:null},n),this.state={currentPath:"/",selectedFile:null,contents:{files:[],directories:[],all_directories:[]}},this.ui={body:this.element.querySelector(".ms-media-body"),breadcrumbs:this.element.querySelector(".ms-media-breadcrumbs"),loader:this.element.querySelector(".ms-media-loader"),selectBtn:this.element.querySelector(".ms-select-file-btn"),actionsPanel:this.element.querySelector(".ms-media-actions-panel"),createFolderBtn:this.element.querySelector(".ms-create-folder-btn"),uploadInput:this.element.querySelector(".ms-upload-file-input"),folderTree:this.element.querySelector(".ms-media-folder-tree")},this.attachEventListeners(),this.loadContents("/")},[{key:"attachEventListeners",value:function(){var e=this;if(this.ui.body&&this.ui.body.addEventListener("click",function(t){return e.handleItemClick(t)}),this.ui.folderTree&&this.ui.folderTree.addEventListener("click",function(t){return e.handleFolderTreeClick(t)}),this.ui.createFolderBtn&&this.ui.createFolderBtn.addEventListener("click",function(){return e.createFolder()}),this.ui.uploadInput&&this.ui.uploadInput.addEventListener("change",function(t){return e.uploadFile(t)}),this.ui.breadcrumbs&&this.ui.breadcrumbs.addEventListener("click",function(t){return e.handleBreadcrumbClick(t)}),this.ui.selectBtn&&this.ui.selectBtn.addEventListener("click",function(){return e.handleSelect()}),this.ui.actionsPanel){var t=function(t){return e.ui.actionsPanel.querySelector(t)},n=t(".actions-panel-close"),r=t(".copy-url-btn"),i=t(".get-resized-url-btn"),o=t(".rename-btn"),a=t(".move-btn"),c=t(".delete-btn");n&&n.addEventListener("click",function(){return e.hideActionsPanel()}),r&&r.addEventListener("click",function(){return e.copyToClipboard(".file-url-input")}),i&&i.addEventListener("click",function(){return e.getResizedUrl()}),o&&o.addEventListener("click",function(){return e.renameItem()}),a&&a.addEventListener("click",function(){return e.moveItem()}),c&&c.addEventListener("click",function(){return e.deleteItem()})}}},{key:"loadContents",value:(c=j(P().m(function e(t){var n,r;return P().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.showLoader(!0),this.hideActionsPanel(),this.state.currentPath=t,e.p=1,e.n=2,fetch("/media-picker/get-contents?folder=".concat(encodeURIComponent(t))).then(function(e){return e.json()});case 2:n=e.v,this.state.contents=n,this.render(),e.n=4;break;case 3:e.p=3,r=e.v,console.error("Failed to load contents:",r);case 4:return e.p=4,this.showLoader(!1),e.f(4);case 5:return e.a(2)}},e,this,[[1,3,4,5]])})),function(e){return c.apply(this,arguments)})},{key:"render",value:function(){var e=this;this.ui.breadcrumbs&&(this.ui.breadcrumbs.innerHTML=this.state.contents.breadcrumbs.map(function(t,n){return n===e.state.contents.breadcrumbs.length-1?"<span>".concat(t.name,"</span>"):'<a href="#" data-path="'.concat(t.path,'">').concat(t.name,"</a> &gt;")}).join(" ")),this.ui.body&&(this.ui.body.innerHTML="",this.state.contents.directories.forEach(function(t){return e.ui.body.insertAdjacentHTML("beforeend",e.renderItem(t))}),this.state.contents.files.forEach(function(t){return e.ui.body.insertAdjacentHTML("beforeend",e.renderItem(t))})),this.ui.folderTree&&(this.ui.folderTree.innerHTML=this.buildTreeHTML(this.state.contents.all_directories))}},{key:"buildTreeHTML",value:function(e){var t=this,n="<ul>";return e.forEach(function(e){var r=t.state.currentPath===e.path;n+='<li><a href="#" class="'.concat(r?"active":"",'" data-path="').concat(e.path,'">üìÅ ').concat(e.name,"</a>"),e.children&&e.children.length>0&&(n+=t.buildTreeHTML(e.children)),n+="</li>"}),n+="</ul>"}},{key:"handleItemClick",value:function(e){var t=e.target.closest(".ms-media-item");t&&("directory"===t.dataset.type?this.loadContents(t.dataset.path):(console.log("%c[MediaPicker] Step 3: A file was clicked.","color: blue; font-weight: bold;"),this.selectItem(t)))}},{key:"handleFolderTreeClick",value:function(e){e.preventDefault();var t=e.target.closest("a");t&&t.dataset.path&&this.loadContents(t.dataset.path)}},{key:"renderFolderTree",value:function(e,t){var n=this,r="<ul>";return e.forEach(function(e){var i=n.state.currentPath===e.path;r+='<li><a href="#" class="'.concat(i?"active":"",'" data-path="').concat(e.path,'">üìÅ ').concat(e.name,"</a>"),e.children&&e.children.length>0&&(r+=n.renderFolderTree(e.children,t)),r+="</li>"}),r+="</ul>",t.innerHTML=r,r}},{key:"selectItem",value:function(e){this.element.querySelectorAll(".ms-media-item.selected").forEach(function(e){return e.classList.remove("selected")}),e.classList.add("selected"),this.state.selectedFile=JSON.parse(e.dataset.item),this.ui.selectBtn&&(this.ui.selectBtn.disabled="file"!==this.state.selectedFile.type),"file"===this.state.selectedFile.type?this.options.isInline?this.showActionsPanel():(console.log("[MediaPicker] This is a modal picker. Calling handleSelect() to trigger the callback..."),this.handleSelect()):this.hideActionsPanel()}},{key:"renderItem",value:function(e){var t=e.is_image?'<img src="'.concat(e.url,'" alt="').concat(e.name,'" loading="lazy">'):'<div class="ms-media-item-icon">'.concat("directory"===e.type?"üìÅ":"üìÑ","</div>");return'\n            <div class="ms-media-item" data-path="'.concat(e.path,'" data-type="').concat(e.type,"\" data-item='").concat(JSON.stringify(e),"'>\n                ").concat(t,'\n                <div class="ms-media-item-name">').concat(e.name,"</div>\n            </div>\n        ")}},{key:"handleSelect",value:function(){if(this.state.selectedFile&&"file"===this.state.selectedFile.type&&this.options.onSelect){var e={name:this.state.selectedFile.name,url:this.state.selectedFile.public_url,path:this.state.selectedFile.path,size:this.state.selectedFile.size,is_image:this.state.selectedFile.is_image};this.options.onSelect(e)}}},{key:"handleBreadcrumbClick",value:function(e){e.preventDefault(),"A"===e.target.tagName&&this.loadContents(e.target.dataset.path)}},{key:"showActionsPanel",value:function(){var e=this.state.selectedFile;if(e&&this.ui.actionsPanel){var t=this.ui.actionsPanel;t.querySelector(".file-name").textContent=e.name,t.querySelector(".file-size").textContent="".concat((e.size/1024).toFixed(2)," KB"),t.querySelector(".file-modified").textContent="Modified: ".concat(new Date(1e3*e.last_modified).toLocaleDateString()),t.querySelector(".file-url-input").value=e.public_url,t.querySelector(".actions-panel-preview").innerHTML=e.is_image?'<img src="'.concat(e.url,'" alt="Preview">'):'<div class="file-icon">üìÑ</div>',t.style.display="flex"}}},{key:"hideActionsPanel",value:function(){this.state.selectedFile=null,this.ui.selectBtn&&(this.ui.selectBtn.disabled=!0),this.element.querySelectorAll(".ms-media-item.selected").forEach(function(e){return e.classList.remove("selected")}),this.ui.actionsPanel&&(this.ui.actionsPanel.style.display="none")}},{key:"createFolder",value:(a=j(P().m(function e(){var t,n,i,o=this;return P().w(function(e){for(;;)switch(e.n){case 0:return t=new v,e.n=1,t.open({title:"Create New Folder",confirmText:"Create",fields:[{name:"folder_name",label:"Folder Name"}]});case 1:if(!(n=e.v)||!n.folder_name){e.n=2;break}return(i=new FormData).append("folder_name",n.folder_name),i.append("current_path",this.state.currentPath),e.n=2,r("create-folder",i).then(function(){return o.loadContents(o.state.currentPath)}).catch(function(){});case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"uploadFile",value:(o=j(P().m(function e(t){var n,i,o=this;return P().w(function(e){for(;;)switch(e.n){case 0:if(n=t.target.files[0]){e.n=1;break}return e.a(2);case 1:return(i=new FormData).append("file",n),i.append("current_path",this.state.currentPath),e.n=2,r("upload",i).then(function(){return o.loadContents(o.state.currentPath)}).catch(function(){});case 2:t.target.value="";case 3:return e.a(2)}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"renameItem",value:(i=j(P().m(function e(){var t,n,i,o,a=this;return P().w(function(e){for(;;)switch(e.n){case 0:if(t=this.state.selectedFile){e.n=1;break}return e.a(2);case 1:return n=new v,e.n=2,n.open({title:"Rename ".concat(t.type),inputLabel:"New Name",initialValue:t.name,confirmText:"Rename"});case 2:if(!(i=e.v)||i===t.name){e.n=3;break}return(o=new FormData).append("path",t.path),o.append("new_name",i),e.n=3,r("rename",o).then(function(){C.show("Item renamed successfully."),a.loadContents(a.state.currentPath)}).catch(function(){});case 3:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"moveItem",value:(n=j(P().m(function e(){var t,n,i,o,a,c=this;return P().w(function(e){for(;;)switch(e.n){case 0:if(t=this.state.selectedFile){e.n=1;break}return e.a(2);case 1:return n=t.path.substring(0,t.path.lastIndexOf("/"))||"/",i=new s,e.n=2,i.open(this.state.contents.all_directories,n);case 2:if(null===(o=e.v)){e.n=3;break}return(a=new FormData).append("path",t.path),a.append("destination",o),e.n=3,r("move",a).then(function(){return c.loadContents(c.state.currentPath)}).catch(function(){});case 3:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getResizedUrl",value:(t=j(P().m(function e(){var t,n,r,i,o,a,c,l,s;return P().w(function(e){for(;;)switch(e.n){case 0:if((t=this.state.selectedFile)&&t.is_image){e.n=1;break}return e.a(2,C.show("Please select an image file.","error"));case 1:return n=new v,e.n=2,n.open({title:"Get Resized URL - Step 1 of 2",confirmText:"Next",fields:[{name:"width",label:'Enter desired width (e.g., 300, or "w" for auto-height)'}]});case 2:if((r=e.v)&&r.width){e.n=3;break}return e.a(2);case 3:return e.n=4,n.open({title:"Get Resized URL - Step 2 of 2",confirmText:"Generate",fields:[{name:"height",label:'Enter desired height (e.g., 200, or "h" for auto-width)'}]});case 4:if((i=e.v)&&i.height){e.n=5;break}return e.a(2);case 5:o=t.path.replace(/^uploads\//,""),a=o.lastIndexOf("/"),c="",l=o,-1!==a&&(c=o.substring(0,a),l=o.substring(a+1)),s="".concat(window.location.origin,"/uploads/").concat(c,"/").concat(r.width,"/").concat(i.height,"/").concat(l),this.ui.actionsPanel.querySelector(".file-url-input").value=s,C.show("Resized URL generated in the input box.");case 6:return e.a(2)}},e,this)})),function(){return t.apply(this,arguments)})},{key:"deleteItem",value:(e=j(P().m(function e(){var t,n,i=this;return P().w(function(e){for(;;)switch(e.n){case 0:if((t=this.state.selectedFile)&&confirm('Are you sure you want to delete "'.concat(t.name,'"?'))){e.n=1;break}return e.a(2);case 1:return(n=new FormData).append("path",t.path),n.append("type",t.type),e.n=2,r("delete",n).then(function(){return i.loadContents(i.state.currentPath)}).catch(function(){});case 2:return e.a(2)}},e,this)})),function(){return e.apply(this,arguments)})},{key:"copyToClipboard",value:function(e){this.ui.actionsPanel.querySelector(e).select(),document.execCommand("copy"),C.show("Copied to clipboard!")}},{key:"showLoader",value:function(e){this.ui.loader&&(this.ui.loader.style.display=e?"flex":"none")}}]);var e,t,n,i,o,a,c}();const M=A;var I={modalEl:null,pickerInstance:null,currentCallback:null,getPickerHTML:function(e){return'\n            <div class="ms-media-picker-container" data-is-inline="false">\n                <div class="ms-media-header">\n                    <nav class="ms-media-breadcrumbs"></nav>\n                    <div class="ms-media-actions">\n                        <button type="button" class="ms-media-btn ms-create-folder-btn">New Folder</button>\n                        <label class="ms-media-btn ms-media-btn-primary">\n                            Upload File <input type="file" class="ms-upload-file-input" style="display: none;" accept="'.concat(e,'">\n                        </label>\n                    </div>\n                </div>\n                <div class="ms-media-body-wrapper">\n                    <div class="ms-media-sidebar">\n                        <div class="sidebar-header">Folders</div>\n                        <div class="ms-media-folder-tree"></div>\n                    </div>\n                    <div class="ms-media-body"></div>\n                </div>\n                <div class="ms-media-footer">\n                    <div class="ms-media-selection-info"></div>\n                    <button type="button" class="ms-media-btn ms-media-btn-primary ms-select-file-btn" disabled>Select File</button>\n                </div>\n                <div class="ms-media-loader" style="display: none;"><div class="spinner"></div></div>\n            </div>\n        ')},open:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.modalEl||this.init(),this.currentCallback=e,this.triggerElement=r;var i=this.modalEl.querySelector("#ms-modal-picker-placeholder");i.innerHTML=this.getPickerHTML(n);this.pickerInstance=new M(i.firstElementChild,{isInline:!1,onSelect:function(e){var n=new CustomEvent("ms-media-file-selected",{detail:{file:e,triggerElement:t.triggerElement}});document.dispatchEvent(n),t.currentCallback&&t.currentCallback(e),t.close()}}),this.modalEl.style.display="flex",document.body.style.overflow="hidden"},close:function(){this.modalEl&&(this.modalEl.style.display="none"),this.currentCallback=null,this.triggerElement=null,document.body.style.overflow="",this.modalEl.querySelector("#ms-modal-picker-placeholder").innerHTML="",this.pickerInstance=null},init:function(){var e=this;this.modalEl=document.createElement("div"),this.modalEl.className="ms-media-picker-modal-backdrop",this.modalEl.style.display="none",this.modalEl.innerHTML='<div class="ms-media-picker-modal-content"><button class="ms-media-modal-close">&times;</button><div id="ms-modal-picker-placeholder"></div></div>',document.body.appendChild(this.modalEl),this.modalEl.querySelector(".ms-media-modal-close").onclick=function(){return e.close()},this.modalEl.addEventListener("click",function(t){t.target===e.modalEl&&e.close()})}};const N=I;function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function H(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return B(s,"_invoke",function(n,r,i){var o,c,l,s=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,c=0,l=e,f.n=n,a}};function m(n,r){for(c=n,l=r,t=0;!d&&s&&!i&&t<u.length;t++){var i,o=u[t],m=f.p,h=o[2];n>3?(i=h===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=m&&((i=n<2&&m<o[1])?(c=0,f.v=r,f.n=o[1]):m<h&&(i=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,f.n=h,c=0))}if(i||n>1)return a;throw d=!0,r}return function(i,u,h){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,h),c=u,l=h;(t=c<2?e:l)||!d;){o||(c?c<3?(c>1&&(f.n=-1),m(c,l)):f.n=l:f.v=l);try{if(s=2,o){if(c||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),c=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==a)break}catch(t){o=e,c=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,i,o),!0),s}var a={};function c(){}function l(){}function s(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(B(t={},r,function(){return this}),t),d=s.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,B(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,B(d,"constructor",s),B(s,"constructor",l),l.displayName="GeneratorFunction",B(s,i,"GeneratorFunction"),B(d),B(d,i,"Generator"),B(d,r,function(){return this}),B(d,"toString",function(){return"[object Generator]"}),(H=function(){return{w:o,m:f}})()}function B(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}B=function(e,t,n,r){function o(t,n){B(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},B(e,t,n,r)}function R(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function z(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D(t)?t:t+""}var V=function(){return function(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.ui={content:this.element.querySelector(".ms-editor-content"),code:this.element.querySelector(".ms-editor-code"),formInput:this.element.querySelector(".ms-editor-form-input"),toolbar:this.element.querySelector(".ms-editor-toolbar"),editModal:document.querySelector(".ms-media-edit-modal-backdrop")},this.state={codeViewActive:!1},this.savedSelection=null,this.init()},[{key:"init",value:function(){var e=this;this.sync(),this.ui.content.addEventListener("input",function(){return e.sync()}),this.ui.code.addEventListener("input",function(){return e.sync()}),this.ui.toolbar.addEventListener("click",function(t){return e.handleToolbarClick(t)}),this.ui.toolbar.addEventListener("change",function(t){return e.handleToolbarChange(t)}),this.ui.content.addEventListener("dblclick",function(t){return e.handleMediaDoubleClick(t)}),this.ui.toolbar.addEventListener("mousedown",function(t){e.savedSelection=e.saveSelection()})}},{key:"sync",value:function(){var e=this;this.state.codeViewActive?this.ui.content.innerHTML=this.ui.code.value:this.ui.code.value=this.ui.content.innerHTML,this.ui.formInput.value=this.ui.content.innerHTML,this.ui.toolbar.addEventListener("mousedown",function(t){e.savedSelection=e.saveSelection()}),this.ui.formInput.addEventListener("input",function(){e.ui.formInput.value!==e.ui.content.innerHTML&&(e.ui.content.innerHTML=e.ui.formInput.value,e.ui.code.value=e.ui.formInput.value)})}},{key:"handleToolbarClick",value:function(e){var t=e.target.closest("button");if(t){e.preventDefault();var n=t.dataset.command;t.parentElement.classList.contains("ms-editor-tool-wrapper")?t.parentElement.querySelector('input[type="color"]').click():t.classList.contains("ms-code-view-btn")?this.toggleCodeView(t):t.classList.contains("ms-add-media-btn")?this.openMediaModal(t.dataset.mediaType):this.execCmd(n)}}},{key:"handleToolbarChange",value:function(e){var t=e.target.closest('select, input[type="color"]');if(t){e.preventDefault();var n=t.dataset.command;this.restoreSelection(this.savedSelection),this.execCmd(n,t.value)}}},{key:"toggleCodeView",value:function(e){this.state.codeViewActive=!this.state.codeViewActive,e.classList.toggle("active",this.state.codeViewActive),this.sync(),this.ui.content.style.display=this.state.codeViewActive?"none":"block",this.ui.code.style.display=this.state.codeViewActive?"block":"none"}},{key:"openMediaModal",value:function(e){var t=this,n=this.saveSelection();N.open(function(r){var i=r.name.match(/\.(jpeg|jpg|gif|png|webp|svg)$/i),o=r.name.match(/\.(mp4|webm|ogg)$/i);if("image"===e&&!i||"video"===e&&!o)return C.show("Please select a valid ".concat(e," file."),"error");t.openEditDialog({type:e,src:r.url,alt:r.name},n)})}},{key:"handleMediaDoubleClick",value:function(e){var t=e.target;if("IMG"===t.tagName||"VIDEO"===t.tagName){e.preventDefault();var n="";"left"===t.style.float||"right"===t.style.float?n=t.style.float:"block"!==t.style.display||"auto"!==t.style.marginLeft&&"auto"!==t.style.marginRight||(n="center");var r={type:t.tagName.toLowerCase(),src:t.getAttribute("src"),alt:t.alt,width:t.style.width.replace("px",""),height:t.style.height.replace("px",""),id:t.id,className:t.className,align:n};this.openEditDialog(r,null,t)}}},{key:"openEditDialog",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.ui.editModal;if(!i)return console.error("Edit Media Modal not found in DOM.");var o=i.querySelector("#ms-media-edit-title"),a=i.querySelector("#ms-media-edit-preview-img"),c=i.querySelector("#ms-media-edit-preview-video"),l=i.querySelector("#ms-media-edit-alt"),s=i.querySelector("#ms-media-edit-width"),u=i.querySelector("#ms-media-edit-height"),d=i.querySelector("#ms-media-edit-align"),f=i.querySelector("#ms-media-edit-class"),m=i.querySelector("#ms-media-edit-id"),h=i.querySelector("#ms-media-edit-insert-btn"),p=i.querySelector("#ms-media-edit-cancel-btn"),v=i.querySelector(".ms-media-edit-modal-close");o.textContent=r?"Edit Media":"Insert Media",h.textContent=r?"Update":"Insert",a.style.display="none",c.style.display="none","image"===e.type||"img"===e.type?(a.style.display="block",a.src=e.src):"video"===e.type&&(c.style.display="block",c.src=e.src),l.value=e.alt||"",s.value=e.width||"",u.value=e.height||"",d.value=e.align||"",f.value=e.className||"",m.value=e.id||"",i.style.display="flex";var y=function(){i.style.display="none",h.onclick=null,p.onclick=null,v.onclick=null};h.onclick=function(){var i;r?i=r:(i=document.createElement("image"===e.type?"img":e.type)).src=e.src,i.alt=l.value,i.id=m.value,i.className=f.value,i.style.width=s.value?"".concat(s.value,"px"):"",i.style.height=u.value?"".concat(u.value,"px"):"";var o=d.value;i.style.float="left"===o||"right"===o?o:"",i.style.display="center"===o?"block":"",i.style.marginLeft="center"===o?"auto":"",i.style.marginRight="center"===o?"auto":"",r||n._insertHtmlAtSelection(i,t),n.sync(),y()},p.onclick=y,v.onclick=y}},{key:"_insertHtmlAtSelection",value:function(e,t){if(this.ui.content.focus(),t){var n=window.getSelection();n.removeAllRanges(),n.addRange(t),t.deleteContents(),t.insertNode(e),(t=t.cloneRange()).setStartAfter(e),t.collapse(!0),n.removeAllRanges(),n.addRange(t)}else this.ui.content.appendChild(e)}},{key:"execCmd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&("createLink"!==e?(document.execCommand(e,!1,t),this.ui.content.focus()):this.openLinkDialog())}},{key:"openLinkDialog",value:(e=H().m(function e(){var t,n,r,i,o;return H().w(function(e){for(;;)switch(e.n){case 0:if(t=this.saveSelection(),(n=this._getAnchorElement(t))||!t||!t.collapsed){e.n=1;break}return e.a(2,C.show("Please select some text to create a link.","error"));case 1:return r=new v,e.n=2,r.open({title:n?"Edit Link":"Insert Link",confirmText:n?"Update":"Insert",fields:[{type:"url",name:"url",label:"URL",value:n?n.getAttribute("href"):"https://",placeholder:"https://example.com"},{type:"checkbox",name:"newTab",label:"Open in new tab",checked:!!n&&"_blank"===n.target}]});case 2:(i=e.v)&&i.url&&(this.restoreSelection(t),document.execCommand("createLink",!1,i.url),(o=this._getAnchorElement(this.saveSelection()))&&(i.newTab?(o.target="_blank",o.rel="noopener noreferrer"):(o.removeAttribute("target"),o.removeAttribute("rel"))),this.sync());case 3:return e.a(2)}},e,this)}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){R(o,r,i,a,c,"next",e)}function c(e){R(o,r,i,a,c,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})},{key:"_getAnchorElement",value:function(e){if(!e)return null;var t=e.startContainer;return t.nodeType===Node.TEXT_NODE&&(t=t.parentNode),t.closest("a")}},{key:"saveSelection",value:function(){var e=window.getSelection();return e.rangeCount>0&&this.ui.content.contains(e.anchorNode)?e.getRangeAt(0):null}},{key:"restoreSelection",value:function(e){if(e){this.ui.content.focus();var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}}}]);var e,t}();const U=V;document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('.ms-media-picker-container[data-is-inline="true"]').forEach(function(e){new M(e,{isInline:!0})}),document.querySelectorAll("button.ms-media-picker").forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.targetSelector,n=e.dataset.targetType,r=t?document.querySelector(t):null,i=r?r.accept:"";N.open(function(e){if(t&&n){var r=document.querySelector(t);if(!r)return console.error('Target element "'.concat(t,'" not found.'));"input"===n?r.value=e.url:"image"===n?r.src=e.url:"html"===n&&(r.innerHTML='<img src="'.concat(e.url,'" alt="').concat(e.name,'" style="max-width:100%;">'))}},i,e)})}),document.querySelectorAll(".ms-media-editor-container").forEach(function(e){new U(e)})})},909:()=>{}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,i,o)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,i,o]=e[u],c=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(r.O).every(e=>r.O[e](n[l]))?n.splice(l--,1):(c=!1,o<a&&(a=o));if(c){e.splice(u--,1);var s=i();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={489:0,40:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,o,[a,c,l]=n,s=0;if(a.some(t=>0!==e[t])){for(i in c)r.o(c,i)&&(r.m[i]=c[i]);if(l)var u=l(r)}for(t&&t(n);s<a.length;s++)o=a[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunkmedia_picker=self.webpackChunkmedia_picker||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.O(void 0,[40],()=>r(654));var i=r.O(void 0,[40],()=>r(909));i=r.O(i)})();